# syntax=docker/dockerfile:1

FROM python:3.14-slim

WORKDIR /app

# Copy and install Python dependencies
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# Copy application code
COPY sample-engagement-letter.py .
COPY scripts/ scripts/
COPY coi-prototype/ coi-prototype/

# Environment
ENV PYTHONUNBUFFERED=1

# Non-root user
RUN useradd -m appuser && chown -R appuser:appuser /app
USER appuser

HEALTHCHECK CMD python3 -c "import sys; sys.exit(0)"

CMD ["python3"]
